<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Stat Calculator with Level and Dropdown</title>
</head>
<body>
  <h1>Stat Calculator</h1>

  <label for="test">testing123</label>
  <br><br>
  
  <!-- Level Input -->
  <label for="level">Level</label>
  <input type="number" id="level" placeholder="Enter your level" />
  <div id="result"></div>

  <br>
  
  <!-- Dropdown Menu for Class Model -->
  <label for="classModel">Class Model</label>
  <select id="classModel">
    <option value="Tank Melee">Tank Melee</option>
    <option value="Dodge Melee">Dodge Melee</option>
    <option value="Power Melee">Power Melee</option>
    <option value="Offensive Caster">Offensive Caster</option>
    <option value="Defensive Caster">Defensive Caster</option>
    <option value="Power Caster">Power Caster</option>
    <option value="Full Hybrid">Full Hybrid</option>
    <option value="Luck Hybrid">Luck Hybrid</option>
  </select>

  <br><br>
  
  <!-- Display the dynamic result -->
  <div id="showWDPS"></div>
  <div id="showPrimaryStats"></div>

  <!-- Link to the External JavaScript file -->
  <script src="statcalc.js"></script>

  <!-- JavaScript to Update the Stats Dynamically -->
  <script>
    // Function to update the result dynamically
    function updateStats() {
      // Get the level and selected enhancement type
      const level = document.getElementById("level").value;
      const classModel = document.getElementById("classModel").value;

      // Validate level input
      if (level <= 0 || isNaN(level)) {
        document.getElementById("result").innerHTML = "Please enter a valid level.";
        return;
      } else {
        document.getElementById("result").innerHTML = "";
      }

      // stat calculations
      let WDPS = getWDPS(level);
      const primaryStats = getBasePrimaryStats(level, classModel);

      // Rounding before display
      WDPS = Math.round(WDPS);
      
      for (let key in primaryStats) {
      if (primaryStats.hasOwnProperty(key)) {
          primaryStats[key] = Math.round(primaryStats[key]); 
        }
      }
      
      // Display the result
      document.getElementById("showWDPS").innerHTML = `WDPS: ${WDPS}`;
      document.getElementById("showPrimaryStats").innerHTML = `
        <h3 style="color: red;">Primary Stats (Core Stats):</h3>
        <ul style="font-family: Arial, sans-serif;">
          <li><strong>Strength:</strong> ${primaryStats.strength}</li>
          <li><strong>Intellect:</strong> ${primaryStats.intellect}</li>
          <li><strong>Endurance:</strong> ${primaryStats.endurance}</li>
          <li><strong>Dexterity:</strong> ${primaryStats.dexterity}</li>
          <li><strong>Wisdom:</strong> ${primaryStats.wisdom}</li>
          <li><strong>Luck:</strong> ${primaryStats.luck}</li>
        </ul>
      `;      
    }

    // Attach event listeners to inputs
    document.getElementById("level").addEventListener("input", updateStats);
    document.getElementById("classModel").addEventListener("change", updateStats);
  </script>
</body>
</html>
